# Тестовое задание

## Описание задания

Предлагается написать минимальную реализацию простой тикет системы.

Регистрацию, авторизацию, аутентификацию, делать не нужно, предполагается, что запросы приходят от известного пользователя.

Реализация нужна на **Python, Flask, PostgreSQL, SQLAlchemy, uWSGI, Redis**.

Только API (никаких пользовательских интерфейсов писать не нужно).

Тикет-система должна состоять из:
- Тикетов, у тикетов могут быть комментарии
- Тикет создается в статусе “открыт”, может перейти в “отвечен” или “закрыт”, из
отвечен в “ожидает ответа” или “закрыт”, статус “закрыт” финальный (нельзя изменить статус или добавить комментарий)

Тикеты должны быть доступны по REST API:
- Создание тикета
- Изменить статус тикета
- Добавить комментарий к тикету
- Получить тикет

Свойства тикета:
- ID
- Дата создания
- Дата последнего изменения
- Тема
- Текст
- Email
- Статус

Свойства комментария:
- ID
- ID тикета
- Дата создания
- Текст
- Email

```shell
flask --app app.main db init
flask --app app.main db migrate -m "Initial migration."
flask --app app.main db upgrade
```

## Deployment

1. Создать файл `.env` с переменными окружения (примере `.env.example`).:
```shell
cp .env.example .env
```
2. Запустить контейнеры:
```shell
docker-compose --env-file .env up -d --build
```

### Схема API - [openapi_schema.json](openapi_schema.json)

### Коллекция Postman - [Tickets.postman_collection.json](Tickets.postman_collection.json)


## Запуск тестов

С тестовой базой данных (sqlite):

```shell
pytest
```